<!--index.wxml-->
<view class="container">
  <view class="title">Rust WebAssembly 微信小程序示例</view>
  
  <view class="section">
    <text class="section-title">WASM 模块状态:</text>
    <text class="status {{wasmLoaded ? 'loaded' : 'loading'}}">{{wasmStatus}}</text>
  </view>

  <view class="section" wx:if="{{wasmLoaded}}">
    <text class="section-title">数学运算测试:</text>
    
    <view class="input-group">
      <text>数字A:</text>
      <input type="number" bindinput="onNumberAChange" value="{{numberA}}" placeholder="请输入第一个数字"/>
    </view>
    
    <view class="input-group">
      <text>数字B:</text>
      <input type="number" bindinput="onNumberBChange" value="{{numberB}}" placeholder="请输入第二个数字"/>
    </view>
    
    <view class="button-group">
      <button bindtap="testAdd" type="primary">加法运算</button>
      <button bindtap="testMultiply" type="primary">乘法运算</button>
    </view>
    
    <view class="result" wx:if="{{result !== null}}">
      <text class="result-text">运算结果: {{result}}</text>
    </view>
  </view>

  <view class="section" wx:if="{{wasmLoaded}}">
    <text class="section-title">字符串处理测试:</text>
    
    <view class="input-group">
      <text>姓名:</text>
      <input bindinput="onNameChange" value="{{name}}" placeholder="请输入您的姓名"/>
    </view>
    
    <button bindtap="testGreet" type="primary">生成问候语</button>
    
    <view class="result" wx:if="{{greetResult}}">
      <text class="result-text">{{greetResult}}</text>
    </view>
  </view>

  <view class="section" wx:if="{{wasmLoaded}}">
    <text class="section-title">其他功能测试:</text>
    
    <view class="input-group">
      <text>阶乘计算:</text>
      <input type="number" bindinput="onFactorialNumberChange" value="{{factorialNumber}}" placeholder="请输入数字"/>
      <button bindtap="testFactorial" size="mini">计算阶乘</button>
    </view>
    
    <view class="input-group">
      <text>质数判断:</text>
      <input type="number" bindinput="onPrimeNumberChange" value="{{primeNumber}}" placeholder="请输入数字"/>
      <button bindtap="testPrime" size="mini">判断质数</button>
    </view>
    
    <view class="result" wx:if="{{otherResult}}">
      <text class="result-text">{{otherResult}}</text>
    </view>
  </view>
</view>