<!--zigwasm.wxml-->
<navigation-bar title="Zig WASM Demo" back="{{true}}" color="black" background="#FFF"></navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <view class="header">
      <text class="title">🔮 Zig WebAssembly</text>
      <text class="subtitle">高性能系统级编程语言</text>
    </view>

    <!-- WASM 状态 -->
    <view class="wasm-status {{wasmStatus.class}}">
      <text>{{wasmStatus.text}}</text>
    </view>

    <!-- 数学运算区域 -->
    <view class="section">
      <view class="section-title">🧮 数学运算</view>
      
      <!-- 加法和乘法放在一行 -->
      <view class="math-row">
        <view class="math-item">
          <text class="label">加法:</text>
          <input class="input" type="number" value="{{addInputA}}" bindinput="onAddInputA"/>
          <text class="operator">+</text>
          <input class="input" type="number" value="{{addInputB}}" bindinput="onAddInputB"/>
          <button class="btn-small" bindtap="onCalculateAdd" disabled="{{!wasmReady}}">=</button>
          <text class="result-text">{{addResult.value}}</text>
        </view>
      </view>
      
      <view class="math-row">
        <view class="math-item">
          <text class="label">乘法:</text>
          <input class="input" type="number" value="{{multiplyInputA}}" bindinput="onMultiplyInputA"/>
          <text class="operator">×</text>
          <input class="input" type="number" value="{{multiplyInputB}}" bindinput="onMultiplyInputB"/>
          <button class="btn-small" bindtap="onCalculateMultiply" disabled="{{!wasmReady}}">=</button>
          <text class="result-text">{{multiplyResult.value}}</text>
        </view>
      </view>
      
      <view class="math-row">
        <view class="math-item">
          <text class="label">斐波那契:</text>
          <input class="input" type="number" value="{{fibInput}}" bindinput="onFibInput"/>
          <button class="btn-small" bindtap="onCalculateFib" disabled="{{!wasmReady}}">计算</button>
          <text class="result-text">{{fibResult.value}}</text>
        </view>
      </view>
    </view>

    <!-- 字符串处理区域 -->
    <view class="section">
      <view class="section-title">� 字符串处理</view>
      
      <view class="string-row">
        <view class="string-item">
          <text class="label">问候语:</text>
          <input class="input" type="number" placeholder="年龄" value="{{greetAge}}" bindinput="onGreetAgeInput"/>
          <button class="btn-small" bindtap="onGenerateGreet" disabled="{{!wasmReady}}">生成</button>
        </view>
        <view class="string-result">{{greetResult}}</view>
      </view>
      
      <view class="string-row">
        <view class="string-item">
          <text class="label">反转:</text>
          <input class="input-text" placeholder="输入文字" value="{{reverseInput}}" bindinput="onReverseInput"/>
          <button class="btn-small" bindtap="onReverseString" disabled="{{!wasmReady}}">反转</button>
        </view>
        <view class="string-result">{{reverseResult}}</view>
      </view>
    </view>
  </view>
</scroll-view>